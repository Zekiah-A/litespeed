from machine import Pin, I2C
import time
import utime
import math
import _thread
from ssd1306 import SSD1306_I2C
import framebuf

class Numbers:
    #Generated number images by 
    #convert -size 32x80 -background '#ffff' -fill black -gravity center label:{number} -resize 32x112! {number}.png
    # and to bytearray with https://github.com/novaspirit/img2bytearray/, python3 img2bytearray.py ../{number}.png 32 112 >> barrays.txt
    #{number here is the number in question}
    zero = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00]\x00\x00\x01\xff\x00\x00\x03\xff\xc0\x00\x07\xff\xe0\x00\x0f\xff\xe0\x00\x0f\xd7\xf0\x00\x1fA\xf0\x00?\x01\xf8\x00>\x00\xf8\x00|\x00\xf8\x00|\x00x\x00\xf8\x00x\x00\xf8\x00|\x00\xf8\x00x\x01\xf0\x00|\x01\xf0\x00|\x01\xe0\x00|\x01\xe0\x00x\x03\xe0\x00|\x03\xe0\x00|\x03\xc0\x00x\x03\xe0\x00|\x07\xc0\x00x\x07\xc0\x00|\x07\xc0\x00x\x07\x80\x00|\x07\xc0\x00x\x07\x80\x00x\x07\x80\x00\xf8\x0f\x80\x00x\x07\x80\x00\xf8\x0f\x80\x00\xf8\x0f\x80\x00\xf8\x07\x80\x00\xf0\x0f\x80\x00\xf0\x0f\x80\x01\xf0\x0f\x00\x01\xf0\x0f\x80\x01\xf0\x0f\x80\x01\xe0\x0f\x00\x03\xe0\x07\x80\x03\xe0\x0f\x80\x03\xe0\x0f\x80\x03\xc0\x07\x80\x07\xc0\x07\x80\x07\x80\x07\xc0\x0f\xc0\x07\xc0\x0f\x80\x07\xc0\x1f\x00\x03\xe0?\x00\x03\xe0~\x00\x03\xfd\xfe\x00\x01\xff\xfc\x00\x01\xff\xf8\x00\x00\xff\xe0\x00\x00?\xd0\x00\x00*\x80\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    one = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\x80\x00\x00\x1f\x00\x00\x00?\x80\x00\x00\xff\x00\x00\x00\xff\x00\x00\x03\xff\x00\x00\x07\xff\x00\x00\x0f\xfe\x00\x00\x1f\xdf\x00\x00?\x9e\x00\x00\x7f\x1e\x00\x00>>\x00\x008\x1e\x00\x008<\x00\x00\x10>\x00\x00\x00<\x00\x00\x00|\x00\x00\x00<\x00\x00\x00|\x00\x00\x00|\x00\x00\x00x\x00\x00\x00|\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00\xf8\x00\x00\x00\xf0\x00\x00\x00\xf0\x00\x00\x00\xf0\x00\x00\x01\xf0\x00\x00\x00\xf0\x00\x00\x01\xf0\x00\x00\x01\xf0\x00\x00\x01\xe0\x00\x00\x01\xe0\x00\x00\x01\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\xc0\x00\x00\x03\xc0\x00\x00\x03\xc0\x00\x00\x03\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x07\x80\x00\x00\x07\x80\x00\x00\x07\x80\x00\x00\x0f\x80\x00\x00\x07\x80\x00\x00\x0f\x80\x00\x00\x0f\x00\x00\x00\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    two = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfc\x00\x00\x03\xff\x80\x00\x0f\xff\xc0\x00\x1f\xff\xc0\x00?\xff\xf0\x00\x7f\x8f\xf0\x00~#\xf0\x00x\x01\xf8\x000\x00\xf8\x00 \x00\xf8\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00|\x00\x00\x00x\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00\xf8\x00\x00\x00\xf0\x00\x00\x01\xf0\x00\x00\x01\xf0\x00\x00\x01\xe0\x00\x00\x03\xe0\x00\x00\x07\xe0\x00\x00\x07\xc0\x00\x00\x0f\x80\x00\x00\x1f\x80\x00\x00\x1f\x00\x00\x00>\x00\x00\x00~\x00\x00\x00\xfc\x00\x00\x00\xf8\x00\x00\x01\xf0\x00\x00\x03\xf0\x00\x00\x07\xe0\x00\x00\x07\xc0\x00\x00\x0f\x80\x00\x00\x1f\x80\x00\x00?\x00\x00\x00~\x00\x00\x00|\x00\x00\x00\xf8\x00\x00\x01\xf8\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x07\xc0\x00\x00\x0f\x80\x00\x00\x1f\x80\x00\x00?\xbe\xdb@?\xff\xff\x80?\xff\xff\xc0?\xff\xff\x80\x7f\xff\xff\x80?\xff\xff\x80$\x88I\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    three = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfc\x00\x00\x07\xff\x80\x00\x1b\xff\xc0\x00/\xff\xe0\x00\x7f\xff\xe0\x00\x7f\x87\xf0\x00\xfc#\xf0\x00x\x01\xf8\x00 \x00\xf8\x00 \x00\xf8\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00x\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00\xf0\x00\x00\x01\xf8\x00\x00\x01\xf0\x00\x00\x03\xe0\x00\x00\x07\xe0\x00\x00\x0b\xc0\x00\x00?\x80\x00\n\xdf\x00\x00\x1f\xfe\x00\x00\x1f\xf8\x00\x00?\xf0\x00\x00\x1f\xf8\x00\x00?\xfe\x00\x00\x00\x7f\x00\x00\x00?\x00\x00\x00\x0f\x80\x00\x00\x0f\x80\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x03\xc0\x00\x00\x07\xc0\x00\x00\x03\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x0f\x80\x00\x00\x0f\x80 \x00\x1f\x804\x00?\x00<\x00\x7f\x00?\xd5\xfe\x00?\xff\xfc\x00\x1f\xff\xf8\x00\x1f\xff\xf0\x00\x07\xff\xc0\x00\x00\xaa \x00\x00\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    four = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xf8\x00\x00\x01\xf8\x00\x00\x03\xf8\x00\x00\x03\xf8\x00\x00\x07\xf8\x00\x00\x07\xf0\x00\x00\x0f\xf0\x00\x00\x1e\xf0\x00\x00\x1e\xf0\x00\x00>\xf0\x00\x00<\xf0\x00\x00y\xe0\x00\x00\xf9\xe0\x00\x00\xf1\xe0\x00\x01\xf1\xe0\x00\x01\xe1\xe0\x00\x03\xe3\xe0\x00\x07\xc1\xc0\x00\x07\x83\xe0\x00\x0f\x83\xc0\x00\x0f\x03\xc0\x00\x1f\x03\xc0\x00>\x07\xc0\x00<\x03\xc0\x00|\x07\x80\x00\xf8\x07\xc0\x00\xf0\x07\x80\x01\xf0\x07\x80\x01\xe0\x07\x80\x03\xe0\x0f\x80\x07\xc0\x0f\x80\x07\x80\x0f\x00\x0f\x80\x0f\x00\x0f\x00\x0f\x00\x1f\x00\x0f\x00>\x00\x1f\x00?\xff\xff\xfc?\xff\xff\xfc?\xff\xff\xfc?\xff\xff\xf8\x7f\xff\xff\xf86\xdd\xffx\x00\x00\x1e\x00\x00\x00<\x00\x00\x00>\x00\x00\x00<\x00\x00\x00<\x00\x00\x00<\x00\x00\x00<\x00\x00\x00|\x00\x00\x00x\x00\x00\x00|\x00\x00\x00x\x00\x00\x00x\x00\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    five = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xff\xfc\x00\x0f\xff\xfc\x00\x0f\xff\xf8\x00\x1f\xff\xf8\x00\x1f\xff\xf8\x00\x1fUP\x00\x1e\x00\x00\x00\x1e\x00\x00\x00<\x00\x00\x00>\x00\x00\x00<\x00\x00\x00<\x00\x00\x00<\x00\x00\x00x\x00\x00\x00x\x00\x00\x00x\x00\x00\x00x\x00\x00\x00x\x00\x00\x00\xf0\x00\x00\x00\xf0\x00\x00\x00\xf4\x80\x00\x00\xfb\xf8\x00\x00\xff\xfc\x00\x01\xff\xfe\x00\x01\xff\xff\x00\x00\xfd\xff\x80\x00\xc2?\x80\x00\x00\x0f\xc0\x00\x00\x0f\xc0\x00\x00\x07\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x01\xe0\x00\x00\x03\xe0\x00\x00\x01\xe0\x00\x00\x03\xe0\x00\x00\x01\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\xc0\x00\x00\x07\xe0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x0f\x80\x10\x00\x1f\x80\x18\x00?\x00\x1e\x00\x7f\x00\x1f\xd5\xfe\x00\x1f\xff\xfc\x00\x1f\xff\xf8\x00\x0f\xff\xf0\x00\x03\xff\xc0\x00\x00\xaa\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    six = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05\xf8\x00\x00\x1f\xfc\x00\x00\x7f\xfc\x00\x00\xff\xfc\x00\x01\xff\xfc\x00\x03\xfd(\x00\x07\xf2\x00\x00\x0f\xe0\x00\x00\x0f\x80\x00\x00\x1f\x80\x00\x00\x1f\x00\x00\x00>\x00\x00\x00>\x00\x00\x00|\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00\xf8\x00\x00\x00\xf0\x00\x00\x01\xf0\x00\x00\x01\xf0\x00\x00\x01\xe0P\x00\x01\xe1|\x00\x03\xe3\xff\x00\x03\xe7\xff\x80\x03\xcf\xff\x80\x03\xdf\xff\xc0\x03\xfe\x0f\xe0\x07\xf8\x03\xe0\x07\xf4\x03\xe0\x07\xf0\x01\xe0\x07\xe0\x01\xf0\x07\xc0\x01\xf0\x07\xc0\x01\xf0\x07\x80\x01\xf0\x07\xc0\x00\xf0\x0f\x80\x01\xf0\x07\x80\x00\xf0\x0f\x80\x01\xf0\x07\x80\x01\xe0\x0f\x80\x01\xf0\x07\x80\x01\xe0\x0f\x80\x01\xe0\x07\x80\x01\xe0\x07\x80\x03\xe0\x07\x80\x03\xc0\x07\xc0\x07\xc0\x07\xc0\x07\xc0\x07\xc0\x0f\x80\x03\xe0\x0f\x80\x03\xf0?\x00\x03\xfd\x7f\x00\x01\xff\xfe\x00\x00\xff\xfc\x00\x00\xff\xf8\x00\x00?\xe0\x00\x00\n\x90\x00\x00\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    seven = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\xff\xff\xfe\x01\xff\xff\xfc\x01\xff\xff\xfc\x01\xff\xff\xfc\x01\xff\xff\xfc\x00\x00\x00\xfc\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00\xf0\x00\x00\x01\xf0\x00\x00\x01\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\xc0\x00\x00\x07\xc0\x00\x00\x07\x80\x00\x00\x0f\x80\x00\x00\x0f\x80\x00\x00\x0f\x00\x00\x00\x1f\x00\x00\x00\x1e\x00\x00\x00>\x00\x00\x00<\x00\x00\x00<\x00\x00\x00|\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00\xf0\x00\x00\x00\xf0\x00\x00\x01\xf0\x00\x00\x01\xe0\x00\x00\x03\xe0\x00\x00\x03\xc0\x00\x00\x03\xc0\x00\x00\x07\xc0\x00\x00\x07\x80\x00\x00\x0f\x80\x00\x00\x0f\x00\x00\x00\x1f\x00\x00\x00\x1f\x00\x00\x00\x1e\x00\x00\x00>\x00\x00\x00<\x00\x00\x00|\x00\x00\x00x\x00\x00\x00x\x00\x00\x00\xf8\x00\x00\x00\xf0\x00\x00\x01\xf0\x00\x00\x01\xf0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    eight = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00^\x00\x00\x01\xff\xc0\x00\x03\xff\xe0\x00\x07\xff\xf0\x00\x0f\xff\xf0\x00\x1f\xd5\xf8\x00\x1fB\xf8\x00?\x00\xfc\x00>\x00|\x00<\x00|\x00|\x00<\x00<\x00|\x00|\x00<\x00x\x00<\x00|\x00|\x00x\x00<\x00<\x00|\x00|\x00x\x00<\x00\xf8\x00>\x00\xf8\x00>\x03\xf0\x00\x1e\x03\xe0\x00\x1f\x8f\xe0\x00\x0f\xbf\x80\x00\x0f\xff\x00\x00\x07\xfd\x00\x00\x07\xfa\x00\x00\x1f\xfc\x00\x00?\xfc\x00\x00~?\x00\x00\xfa\x1f\x00\x01\xf8\x1f\x80\x03\xe0\x07\xc0\x03\xe0\x07\xc0\x07\xc0\x07\xc0\x07\x80\x03\xe0\x0f\x80\x03\xe0\x0f\x80\x01\xe0\x0f\x00\x03\xe0\x0f\x00\x01\xe0\x0f\x00\x01\xe0\x1f\x00\x03\xf0\x0f\x00\x01\xe0\x1f\x00\x03\xe0\x0f\x80\x03\xe0\x0f\x00\x03\xe0\x0f\x80\x07\xc0\x0f\xc0\x07\xc0\x0f\xc0\x0f\xc0\x07\xe0?\x80\x07\xfa\xff\x80\x03\xff\xff\x00\x03\xff\xfe\x00\x00\xff\xf8\x00\x00\x7f\xe8\x00\x00*\xa0\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')
    nine = bytearray(b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfa\x00\x00\x03\xfe\x00\x00\x0f\xff\x80\x00\x0f\xff\xc0\x00?\xff\xe0\x00?\x8f\xe0\x00~#\xe0\x00|\x01\xf0\x00\xf8\x01\xf0\x00\xf8\x00\xf0\x01\xf0\x00\xf8\x01\xf0\x00\xf8\x01\xe0\x00x\x03\xe0\x00\xf8\x01\xe0\x00x\x03\xc0\x00x\x03\xe0\x00\xf8\x03\xc0\x00x\x03\xc0\x00x\x03\xc0\x00\xf8\x03\xc0\x00\xf8\x03\xe0\x00\xf8\x03\xc0\x00\xf8\x03\xe0\x01\xf8\x03\xe0\x01\xf0\x03\xe0\x03\xf8\x01\xe0\x07\xf0\x01\xf0\x0b\xf0\x01\xfc/\xf0\x00\xff\xfe\xf0\x00\xff\xfd\xf0\x00\x7f\xf9\xf0\x00?\xf1\xe0\x00\x17\xa1\xe0\x00\x04\x83\xe0\x00\x00\x03\xe0\x00\x00\x03\xe0\x00\x00\x03\xc0\x00\x00\x07\xc0\x00\x00\x07\xc0\x00\x00\x07\x80\x00\x00\x0f\x80\x00\x00\x0f\x80\x00\x00\x0f\x00\x00\x00\x1f\x00\x00\x00?\x00\x00\x00>\x00\x00\x00~\x00\x00\x01\xfc\x00\x08\x02\xf8\x00\x1f\xbf\xf8\x00\x0f\xef\xf0\x00\x1f\xff\xe0\x00\x0f\xff\x80\x00\x0f\xff\x00\x00\x05h\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00')

class App:    
    class BootPage:
        def __init__(self, oled):
            self.oled = oled
            
        def render(self):
            for i in range(192):
                self.oled.fill(0)
                self.oled.text("   __o  ", i - 32, 44)
                self.oled.text(" _`\<,_ ", i - 32, 50)
                self.oled.text("(*)/ (*)", i - 32, 56)
                self.oled.show()

            for i in range(64):
                self.oled.fill(0)
                self.oled.text("Zekiah-A:", 26, (int(i/2)) - 4)
                self.oled.text("LiteSpeed", 26, (64-int(i/2)) + 4)
                self.oled.show()

    class MainPage:
        @property #speed getter
        def speed(self):
            return self._speed
        
        @speed.setter # speed setter
        def speed(self, value):
            self._speed = value
            self.render()
        
        def __init__(self, oled):
            self._speed = 0
            self.ui_numbers = Numbers()
            self.oled = oled
        
        def render(self):
            # HUD title
            self.oled.text("LiteSpeed v0.01 - (c) Zekiah", 0, 0)
            self.oled.hline(0, 8, 128, 1)
            # Main left section
            self.oled.text("Spd:    ", 0, 16) #txt, x, y
            self.oled.hline(0, 28, 64, 2)
            self.oled.text("Tme:    ", 0, 32)
            self.oled.hline(0, 44, 64, 2)
            self.oled.text("Avg:    ", 0, 48)
            self.oled.hline(0, 60, 64, 2)
            #Main left/right secrion separator
            self.oled.vline(64, 16, 64, 2)
            #Main right section, usable space: 64 * 112
            num1 = framebuf.FrameBuffer(self.ui_numbers.two, 32, 96, framebuf.MONO_HLSB)
            num2 = framebuf.FrameBuffer(self.ui_numbers.three, 32, 96, framebuf.MONO_HLSB)
            self.oled.blit(num1, 64, -18, 0) #x,y,key blit draws over cur fb with new
            self.oled.blit(num2, 96, -18, 0)      
    
    class StatsPage: #stub
        def __init__(self, oled):
            self.oled = oled
            
        def render(self):
            return

    def __init__(self, oled):
        self.current_page = None
        self.boot_page = self.BootPage(oled)
        self.main_page = self.MainPage(oled)
        self.stats_page = self.StatsPage(oled)
        self.oled = oled


    def set_current_page(self, page):
        self.oled.fill(0)
        self.current_page = page
        self.current_page.render()
        self.oled.show()
        
    def get_current_page(self):
        return self.current_page
    
    def render_current_page(self):
        self.oled.fill(0)
        self.current_page.render()
        self.oled.show()

#Speed = distance / time, we will meassure the speed every second, distance will be the wheel rim diameter
led = Pin(25, Pin.OUT)
output_line = Pin(0, Pin.OUT)
input_line = Pin(1, Pin.IN, Pin.PULL_DOWN)

#Set up display
i2c = I2C(0, sda = Pin(4), scl = Pin(5), freq=400000)
i2c.scan()
utime.sleep(0.1)
oled = SSD1306_I2C(128, 64, i2c)
app = App(oled)

second_period = 2 #s
this_period = 0 #s 
wheel_diameter = 0.9 #m
wheel_length = math.pi * wheel_diameter #m
speed = 0 #mph

#We reenable the interrupt so multiple can not trigger at once
def on_lines_contact(pin):
    input_line.irq(handler=None)
    global this_period
    led.toggle()
    time.sleep(0.05)
    led.toggle()
    this_period += 1
    input_line.irq(handler=on_lines_contact)
    
def second_tick():
    global second_period
    while True:
        #Calc speed
        global speed
        global this_period
        speed = 2.23694 * (wheel_length * this_period / second_period) #m/s -> miles per hour
        print("speed", speed) #, end="\r"
        #Reset for next second
        this_period = 0
        time.sleep(second_period)
        

app.set_current_page(app.boot_page)
time.sleep(1)
app.set_current_page(app.main_page)


led.value(0)
output_line.value(1)
print("Started set voltage of 1 on Pin 0\n")
#Set an interrupt/event handler for the voltage change, when it contacts 0, voltage will be rising
input_line.irq(trigger=Pin.IRQ_RISING, handler=on_lines_contact)
_thread.start_new_thread(second_tick, ())
